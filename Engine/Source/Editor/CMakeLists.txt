set(CMAKE_INCLUDE_CURRENT_DIR ON)
#set(CMAKE_AUTOMOC ON)

aux_source_directory(${CMAKE_CURRENT_LIST_DIR} SRCS)
aux_source_directory(${CMAKE_CURRENT_LIST_DIR}/UI UI_SRCS)
aux_source_directory(${CMAKE_CURRENT_LIST_DIR}/../build-Editor-Desktop_Qt_5_8_0_clang_64bit-Release MOC_SRCS)
FILE(GLOB HEADERS ${CMAKE_CURRENT_LIST_DIR}/*.hpp)
find_package(Qt5Widgets)

include_directories(../build-Editor-Desktop_Qt_5_8_0_clang_64bit-Release/)
add_executable(FishEditor2 MACOSX_BUNDLE ${SRCS} ${UI_SRCS} ${MOC_SRCS} ${HEADERS})
target_link_libraries(FishEditor2 FishEngine)
target_link_libraries(FishEditor2 assimp)
target_link_libraries(FishEditor2 yaml-cpp)
target_link_libraries(FishEditor2 ${PhysXSDK_LIBRARIES})
target_link_libraries(FishEditor2 ${Boost_LIBRARIES})

if (MSVC)
    target_link_libraries(FishEditor2 opengl32.lib)
    target_link_libraries(FishEditor2 glew_s)
else()
    #set_target_properties(FishEditor PROPERTIES LINK_FLAGS "-framework OpenGL -framework Cocoa -framework IOKit -framework CoreVideo")
    #set(CMAKE_CXX_FLAGS "-I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtWidgets.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtGui.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtCore.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/mkspecs/macx-clang")
    #set_target_properties(FishEditor2 PROPERTIES LINK_FLAGS "-F/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib -lz -framework QtWidgets -framework QtGui -framework QtCore -framework DiskArbitration -framework IOKit -framework OpenGL -framework AGL")
    set_target_properties(FishEditor2 PROPERTIES LINK_FLAGS "-framework OpenGL -framework Cocoa -framework IOKit -framework CoreVideo")
endif()

target_link_libraries(FishEditor2 Qt5::Widgets)

# aux_source_directory(${CMAKE_CURRENT_LIST_DIR} SRCS)
# aux_source_directory(${CMAKE_CURRENT_LIST_DIR}/../build-Editor-Desktop_Qt_5_8_0_clang_64bit-Release MOC_SRCS)
# FILE(GLOB HEADERS ${CMAKE_CURRENT_LIST_DIR}/*.hpp)
# add_executable (FishEditor2 MACOSX_BUNDLE ${SRCS} ${MOC_SRCS} ${HEADERS})
# target_link_libraries(FishEditor2 FishEngine)
# #target_link_libraries(FishEditor2 imgui)
# #target_link_libraries(FishEditor2 glfw)
# target_link_libraries(FishEditor2 assimp)
# #target_link_libraries(FishEditor2 nativefiledialog)
# target_link_libraries(FishEditor2 yaml-cpp)
# #include_directories(../build-Editor-Desktop_Qt_5_8_0_clang_64bit-Release/)
# #include_directories(/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtWidgets.framework/Headers)
# #include_directories(/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtGui.framework/Headers)
# #include_directories(/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtCore.framework/Headers)
# #include_directories(/Users/yushroom/program/library/Qt5.8/5.8/clang_64/mkspecs/macx-clang)
# #include_directories(/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtWidgets.framework/Headers)
# if (MSVC)
#     #target_link_libraries(FishEditor opengl32.lib)
#     #target_link_libraries(FishEditor glew_s)
# else()
#     #set_target_properties(FishEditor PROPERTIES LINK_FLAGS "-framework OpenGL -framework Cocoa -framework IOKit -framework CoreVideo")
#     #set(CMAKE_CXX_FLAGS "-I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtWidgets.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtGui.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib/QtCore.framework/Headers -I/Users/yushroom/program/library/Qt5.8/5.8/clang_64/mkspecs/macx-clang")
#     set_target_properties(FishEditor2 PROPERTIES LINK_FLAGS "-F/Users/yushroom/program/library/Qt5.8/5.8/clang_64/lib -lz -framework QtWidgets -framework QtGui -framework QtCore -framework DiskArbitration -framework IOKit -framework OpenGL -framework AGL")
# endif()

# target_link_libraries(FishEditor2 ${PhysXSDK_LIBRARIES})
# target_link_libraries(FishEditor2 ${Boost_LIBRARIES})